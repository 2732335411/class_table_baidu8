
classtable = {"result":[{"XQJ":6,"JSZ":10,"teacher":"徐小周","name":"大学生卫生健康教育","QSZ":10,"time":"星期六,第3-4节(第10周)","addr":"大学生活动中心（无桌）"},{"XQJ":2,"JSZ":10,"teacher":"韦梦圆","name":"大学生心理健康教育","QSZ":10,"time":"星期二,第10-11节(第10周)","addr":"1-204"},{"XQJ":2,"JSZ":11,"teacher":"韦梦圆","name":"大学生心理健康教育","QSZ":11,"time":"星期二,第10-11节(第11周)","addr":"1-204"},{"XQJ":2,"JSZ":13,"teacher":"韦梦圆","name":"大学生心理健康教育","QSZ":13,"time":"星期二,第10-11节(第13周)","addr":"1-204"},{"XQJ":3,"JSZ":10,"teacher":"李牧","name":"思想道德与法治","QSZ":10,"time":"星期三,第8-9节(第10周)","addr":"1-202"},{"XQJ":3,"JSZ":11,"teacher":"李牧","name":"思想道德与法治","QSZ":11,"time":"星期三,第8-9节(第11周)","addr":"1-202"},{"XQJ":3,"JSZ":12,"teacher":"李牧","name":"思想道德与法治","QSZ":12,"time":"星期三,第8-9节(第12周)","addr":"产业学院多媒体709"},{"XQJ":3,"JSZ":13,"teacher":"李牧","name":"思想道德与法治","QSZ":13,"time":"星期三,第8-9节(第13周)","addr":"产业学院多媒体709"},{"XQJ":3,"JSZ":14,"teacher":"李牧","name":"思想道德与法治","QSZ":14,"time":"星期三,第8-9节(第14周)","addr":"产业学院多媒体709"},{"XQJ":4,"JSZ":10,"teacher":"李牧","name":"思想道德与法治","QSZ":10,"time":"星期四,第1-2节(第10周)","addr":"1-203"},{"XQJ":4,"JSZ":11,"teacher":"李牧","name":"思想道德与法治","QSZ":11,"time":"星期四,第1-2节(第11周)","addr":"1-203"},{"XQJ":4,"JSZ":13,"teacher":"李牧","name":"思想道德与法治","QSZ":13,"time":"星期四,第1-2节(第13周)","addr":"1-203"},{"XQJ":4,"JSZ":14,"teacher":"李牧","name":"思想道德与法治","QSZ":14,"time":"星期四,第1-2节(第14周)","addr":"1-203"},{"XQJ":5,"JSZ":11,"teacher":"李牧","name":"思想道德与法治","QSZ":11,"time":"星期五,第1-2节(第11周)","addr":"未知"},{"XQJ":5,"JSZ":13,"teacher":"李牧","name":"思想道德与法治","QSZ":13,"time":"星期五,第1-2节(第13周)","addr":"未知"},{"XQJ":1,"JSZ":13,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":13,"time":"星期一,第6-9节(第13周)","addr":"产业学院实训室703"},{"XQJ":1,"JSZ":14,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":14,"time":"星期一,第6-9节(第14周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":13,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":13,"time":"星期二,第1-4节(第13周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":14,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":14,"time":"星期二,第1-4节(第14周)","addr":"产业学院实训室703"},{"XQJ":4,"JSZ":13,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":13,"time":"星期四,第10-13节(第13周)","addr":"产业学院实训室703"},{"XQJ":5,"JSZ":14,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":14,"time":"星期五,第1-4节(第14周)","addr":"产业学院实训室703"},{"XQJ":3,"JSZ":10,"teacher":"黄金花","name":"基础英语1","QSZ":10,"time":"星期三,第1-2节(第10周)","addr":"2-101"},{"XQJ":3,"JSZ":11,"teacher":"黄金花","name":"基础英语1","QSZ":11,"time":"星期三,第1-2节(第11周)","addr":"2-101"},{"XQJ":3,"JSZ":12,"teacher":"黄金花","name":"基础英语1","QSZ":12,"time":"星期三,第1-2节(第12周)","addr":"2-101"},{"XQJ":3,"JSZ":13,"teacher":"黄金花","name":"基础英语1","QSZ":13,"time":"星期三,第1-2节(第13周)","addr":"2-101"},{"XQJ":3,"JSZ":14,"teacher":"黄金花","name":"基础英语1","QSZ":14,"time":"星期三,第1-2节(第14周)","addr":"2-101"},{"XQJ":5,"JSZ":11,"teacher":"黄金花","name":"基础英语1","QSZ":11,"time":"星期五,第3-4节(第11周)","addr":"1-205"},{"XQJ":1,"JSZ":10,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":10,"time":"星期一,第1-2节(第10周)","addr":"文体馆"},{"XQJ":2,"JSZ":13,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":13,"time":"星期二,第6-7节(第13周)","addr":"文体馆"},{"XQJ":2,"JSZ":14,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":14,"time":"星期二,第6-7节(第14周)","addr":"文体馆"},{"XQJ":4,"JSZ":10,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":10,"time":"星期四,第3-4节(第10周)","addr":"文体馆"},{"XQJ":4,"JSZ":13,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":13,"time":"星期四,第3-4节(第13周)","addr":"文体馆"},{"XQJ":4,"JSZ":14,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":14,"time":"星期四,第3-4节(第14周)","addr":"文体馆"},{"XQJ":1,"JSZ":10,"teacher":"黄启挺","name":"计算机应用基础","QSZ":10,"time":"星期一,第6-9节(第10周)","addr":"产业学院实训室703"},{"XQJ":1,"JSZ":11,"teacher":"黄启挺","name":"计算机应用基础","QSZ":11,"time":"星期一,第6-9节(第11周)","addr":"产业学院实训室703"},{"XQJ":1,"JSZ":12,"teacher":"黄启挺","name":"计算机应用基础","QSZ":12,"time":"星期一,第6-9节(第12周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":10,"teacher":"黄启挺","name":"计算机应用基础","QSZ":10,"time":"星期二,第1-4节(第10周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":11,"teacher":"黄启挺","name":"计算机应用基础","QSZ":11,"time":"星期二,第1-4节(第11周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":12,"teacher":"黄启挺","name":"计算机应用基础","QSZ":12,"time":"星期二,第1-4节(第12周)","addr":"产业学院实训室703"},{"XQJ":4,"JSZ":12,"teacher":"黄启挺","name":"计算机应用基础","QSZ":12,"time":"星期四,第10-13节(第12周)","addr":"产业学院实训室703"},{"XQJ":5,"JSZ":10,"teacher":"黄启挺","name":"计算机应用基础","QSZ":10,"time":"星期五,第1-4节(第10周)","addr":"产业学院实训室703"},{"XQJ":3,"JSZ":14,"teacher":"李牧","name":"思想道德与法治","QSZ":14,"time":"星期三,第8-9节(第14周)","addr":"产业学院多媒体709"},{"XQJ":3,"JSZ":15,"teacher":"李牧","name":"思想道德与法治","QSZ":15,"time":"星期三,第8-9节(第15周)","addr":"产业学院多媒体709"},{"XQJ":3,"JSZ":16,"teacher":"李牧","name":"思想道德与法治","QSZ":16,"time":"星期三,第8-9节(第16周)","addr":"产业学院多媒体709"},{"XQJ":3,"JSZ":17,"teacher":"李牧","name":"思想道德与法治","QSZ":17,"time":"星期三,第8-9节(第17周)","addr":"产业学院多媒体709"},{"XQJ":3,"JSZ":18,"teacher":"李牧","name":"思想道德与法治","QSZ":18,"time":"星期三,第8-9节(第18周)","addr":"产业学院多媒体709"},{"XQJ":4,"JSZ":14,"teacher":"李牧","name":"思想道德与法治","QSZ":14,"time":"星期四,第1-2节(第14周)","addr":"1-203"},{"XQJ":4,"JSZ":15,"teacher":"李牧","name":"思想道德与法治","QSZ":15,"time":"星期四,第1-2节(第15周)","addr":"1-203"},{"XQJ":4,"JSZ":16,"teacher":"李牧","name":"思想道德与法治","QSZ":16,"time":"星期四,第1-2节(第16周)","addr":"1-203"},{"XQJ":4,"JSZ":17,"teacher":"李牧","name":"思想道德与法治","QSZ":17,"time":"星期四,第1-2节(第17周)","addr":"1-203"},{"XQJ":4,"JSZ":18,"teacher":"李牧","name":"思想道德与法治","QSZ":18,"time":"星期四,第1-2节(第18周)","addr":"1-203"},{"XQJ":1,"JSZ":14,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":14,"time":"星期一,第6-9节(第14周)","addr":"产业学院实训室703"},{"XQJ":1,"JSZ":15,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":15,"time":"星期一,第6-9节(第15周)","addr":"产业学院实训室703"},{"XQJ":1,"JSZ":16,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":16,"time":"星期一,第6-9节(第16周)","addr":"产业学院实训室703"},{"XQJ":1,"JSZ":17,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":17,"time":"星期一,第6-9节(第17周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":14,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":14,"time":"星期二,第1-4节(第14周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":15,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":15,"time":"星期二,第1-4节(第15周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":16,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":16,"time":"星期二,第1-4节(第16周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":17,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":17,"time":"星期二,第1-4节(第17周)","addr":"产业学院实训室703"},{"XQJ":5,"JSZ":14,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":14,"time":"星期五,第1-4节(第14周)","addr":"产业学院实训室703"},{"XQJ":5,"JSZ":15,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":15,"time":"星期五,第1-4节(第15周)","addr":"产业学院实训室703"},{"XQJ":5,"JSZ":16,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":16,"time":"星期五,第1-4节(第16周)","addr":"产业学院实训室703"},{"XQJ":5,"JSZ":17,"teacher":"黄启挺","name":"JAVA程序设计基础","QSZ":17,"time":"星期五,第1-4节(第17周)","addr":"产业学院实训室703"},{"XQJ":1,"JSZ":18,"teacher":"黄启挺","name":"Linux操作系统应用","QSZ":18,"time":"星期一,第6-9节(第18周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":18,"teacher":"黄启挺","name":"Linux操作系统应用","QSZ":18,"time":"星期二,第1-4节(第18周)","addr":"产业学院实训室703"},{"XQJ":5,"JSZ":18,"teacher":"黄启挺","name":"Linux操作系统应用","QSZ":18,"time":"星期五,第1-4节(第18周)","addr":"产业学院实训室703"},{"XQJ":2,"JSZ":15,"teacher":"黄金花","name":"基础英语1","QSZ":15,"time":"星期二,第8-9节(第15周)","addr":"图信楼A402"},{"XQJ":3,"JSZ":14,"teacher":"黄金花","name":"基础英语1","QSZ":14,"time":"星期三,第1-2节(第14周)","addr":"2-101"},{"XQJ":3,"JSZ":15,"teacher":"黄金花","name":"基础英语1","QSZ":15,"time":"星期三,第1-2节(第15周)","addr":"2-101"},{"XQJ":3,"JSZ":16,"teacher":"黄金花","name":"基础英语1","QSZ":16,"time":"星期三,第1-2节(第16周)","addr":"2-101"},{"XQJ":3,"JSZ":17,"teacher":"黄金花","name":"基础英语1","QSZ":17,"time":"星期三,第1-2节(第17周)","addr":"2-101"},{"XQJ":3,"JSZ":18,"teacher":"黄金花","name":"基础英语1","QSZ":18,"time":"星期三,第1-2节(第18周)","addr":"2-101"},{"XQJ":5,"JSZ":18,"teacher":"黄金花","name":"基础英语1","QSZ":18,"time":"星期五,第8-9节(第18周)","addr":"1-205"},{"XQJ":1,"JSZ":15,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":15,"time":"星期一,第1-2节(第15周)","addr":"文体馆"},{"XQJ":1,"JSZ":16,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":16,"time":"星期一,第1-2节(第16周)","addr":"文体馆"},{"XQJ":1,"JSZ":17,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":17,"time":"星期一,第1-2节(第17周)","addr":"文体馆"},{"XQJ":1,"JSZ":18,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":18,"time":"星期一,第1-2节(第18周)","addr":"文体馆"},{"XQJ":2,"JSZ":14,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":14,"time":"星期二,第6-7节(第14周)","addr":"文体馆"},{"XQJ":2,"JSZ":15,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":15,"time":"星期二,第6-7节(第15周)","addr":"文体馆"},{"XQJ":4,"JSZ":14,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":14,"time":"星期四,第3-4节(第14周)","addr":"文体馆"},{"XQJ":4,"JSZ":15,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":15,"time":"星期四,第3-4节(第15周)","addr":"文体馆"},{"XQJ":4,"JSZ":18,"teacher":"阮开俊","name":"体育Ⅰ","QSZ":18,"time":"星期四,第3-4节(第18周)","addr":"文体馆"}],"sweek":36}


// 教务系统信息与课表有误 进行地址更改
for(y of classtable['result']){
    if(y['name']=='思想道德与法治'){
        y.addr='教务系统未更新 暂不显示'
        console.log(y);
    }
    
}

//json数据有重 以下代码为检查是否存在
let check = function (check_arr, check_arr2) {
    res = true;
    for (i in check_arr) {
        if (check_arr['time'] != check_arr2['time']) {
            res = false

        }
    }
    return res
}
// 遍历目标数组
let quc = function (target_arr, i) {
    res = false;
    for (x of target_arr) {
        if (check(x, i) == true) {
            res = true
            break
        }
    }
    return res
}



let get_table = function (teaching_table, today_week) {
    table = []
    for (let x of classtable['result']) {
        if (x['QSZ'] == teaching_table && x['JSZ'] == teaching_table && x['XQJ'] == today_week) {
            if (!quc(table, x)) {
//              切割上课时间
                text = x['time']
                let jie = function (target) {
                    for (i in target) {
                        if (target[i] == '节') {
                            return i
                        }
                    }
                }
                Sections = text.slice(5, jie(text));
                console.log(Sections);
                up_class = ['8.00', '8.45', '9.45', '10.30', '11.20', '14.00', '14.45', '15.45', '16.30', '19.00', '19.45', '20.35', '21.20']
                off_class = ['8.40', '9.25', '10.25', '11.10', '11.50', '14.40', '15.25', '16.25', '17.10', '19.40', '20.25', '21.15', '22.00']
                partition = Sections.split('-')
                start_time = up_class[Number(partition[0]) - 1]
                end_time = off_class[Number(partition[1]) - 1]
                x['start_time'] = start_time
                x['end_time'] = end_time
                x['start_jie'] =Number(partition[0])
                x['end_jie'] = partition[1]
                table.push(x)









            }
        }
    }
    table.sort((a,b) => a.start_jie - b.start_jie)

    return table
}


// console.log(get_table(10, 1));

